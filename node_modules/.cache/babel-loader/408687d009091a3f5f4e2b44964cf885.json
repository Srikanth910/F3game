{"ast":null,"code":"var _jsxFileName = \"/Users/jellyglass/tech/projects/f3/client/src/components/DiceGame.js\";\nimport React, { Component } from 'react';\nimport './DiceGame.css';\nimport Dice from './Dice.js';\nimport './Dice.css'; // var Modal = ReactBootstrap.Modal;\n// import Modal from 'react-bootstrap'\n\nimport { Link } from 'react-router-dom'; // const URL = 'ws://localhost:8080'\n\nconst URL = 'wss://f3-game-server.herokuapp.com/:21140';\nconst ws = new WebSocket(URL);\n\nclass DiceGame extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      ws.onmessage = event => {\n        let resp = JSON.parse(event.data);\n        let dies = resp.data.dies;\n        let diceArr = ['one', 'two', 'three', 'four', 'five', 'six'];\n        console.log(\"object\", dies);\n\n        if (resp.type === \"results\") {\n          this.setState({\n            rolling: false,\n            diceOne: diceArr[dies[0] - 1],\n            diceTwo: diceArr[dies[1] - 1],\n            diceThree: diceArr[dies[2] - 1]\n          });\n        }\n      };\n    };\n\n    this.rollDice = e => {\n      this.setState({\n        rolling: true\n      });\n      setTimeout(() => {\n        ws.send(JSON.stringify({\n          type: \"diceRolling\"\n        }));\n      }, 2000); // this.setState({\n      // \trolling : true,\n      // \tdiceOne : diceFace1,\n      // \tdiceTwo : diceFace2,\n      // }, 800)\n    };\n\n    this.state = {\n      diceOne: 'six',\n      diceTwo: 'six',\n      diceThree: 'six',\n      value: 'Roll the Dice!',\n      rolling: false\n    };\n    this.rollDice = this.rollDice.bind(this);\n  } // getInitialState() {\n  //     return { showModal: false };\n  //   }\n  //   close() {\n  //     this.setState({ showModal: false });\n  //   }\n  //   open() {\n  //     this.setState({ showModal: true });\n  //   }\n\n\n  render() {\n    console.log('state value ', this.state.value);\n    return (// <Modal show={this.state.showModal} onHide={this.close}>\n      React.createElement(\"section\", {\n        className: \"DiceGame\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"DiceGame-inner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Dice, {\n        face: this.state.diceOne,\n        rolling: this.state.rolling,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(Dice, {\n        face: this.state.diceTwo,\n        rolling: this.state.rolling,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(Dice, {\n        face: this.state.diceThree,\n        rolling: this.state.rolling,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        onClick: this.rollDice,\n        className: \"DiceGame-btn\",\n        disabled: this.state.rolling,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, this.state.value))\n    );\n  }\n\n}\n\nexport default DiceGame;","map":{"version":3,"sources":["/Users/jellyglass/tech/projects/f3/client/src/components/DiceGame.js"],"names":["React","Component","Dice","Link","URL","ws","WebSocket","DiceGame","constructor","props","componentDidMount","onmessage","event","resp","JSON","parse","data","dies","diceArr","console","log","type","setState","rolling","diceOne","diceTwo","diceThree","rollDice","e","setTimeout","send","stringify","state","value","bind","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './DiceGame.css';\nimport Dice from './Dice.js'\nimport './Dice.css';\n// var Modal = ReactBootstrap.Modal;\n// import Modal from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\n\n// const URL = 'ws://localhost:8080'\n\nconst URL = 'wss://f3-game-server.herokuapp.com/:21140'\n\n\nconst ws = new WebSocket(URL)\n\nclass DiceGame extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdiceOne: 'six',\n\t\t\tdiceTwo: 'six',\n\t\t\tdiceThree: 'six',\n\t\t\tvalue: 'Roll the Dice!',\n\t\t\trolling: false\n\t\t}\n\t\tthis.rollDice = this.rollDice.bind(this);\n\n\n\n\t}\n\t// getInitialState() {\n\t//     return { showModal: false };\n\t//   }\n\n\t//   close() {\n\t//     this.setState({ showModal: false });\n\t//   }\n\n\t//   open() {\n\t//     this.setState({ showModal: true });\n\t//   }\n\n\n\n\n\tcomponentDidMount = () => {\n\n\t\tws.onmessage = (event) => {\n\t\t\tlet resp = JSON.parse(event.data)\n\t\t\tlet dies = resp.data.dies\n\t\t\tlet diceArr = ['one', 'two', 'three', 'four', 'five', 'six']\n\t\t\tconsole.log(\"object\", dies)\n\n\t\t\tif (resp.type === \"results\") {\n\t\t\t\tthis.setState({\n\t\t\t\t\trolling: false,\n\t\t\t\t\tdiceOne: diceArr[dies[0] - 1],\n\t\t\t\t\tdiceTwo: diceArr[dies[1] - 1],\n\t\t\t\t\tdiceThree: diceArr[dies[2] - 1]\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\n\n\t}\n\n\trollDice = (e) => {\n\n\n\t\tthis.setState({\n\t\t\trolling: true\n\t\t})\n\n\t\tsetTimeout(() => {\n\t\t\tws.send(JSON.stringify({\n\t\t\t\ttype: \"diceRolling\",\n\t\t\t}))\n\t\t}, 2000)\n\n\t\t// this.setState({\n\t\t// \trolling : true,\n\t\t// \tdiceOne : diceFace1,\n\t\t// \tdiceTwo : diceFace2,\n\n\t\t// }, 800)\n\t}\n\n\trender() {\n\n\t\tconsole.log('state value ', this.state.value);\n\t\treturn (\n\t\t\t// <Modal show={this.state.showModal} onHide={this.close}>\n\n\t\t\t<section className=\"DiceGame\">\n\t\t\t\t<section className=\"DiceGame-inner\">\n\t\t\t\t\t<Dice face={this.state.diceOne} rolling={this.state.rolling} />\n\t\t\t\t\t<Dice face={this.state.diceTwo} rolling={this.state.rolling} />\n\t\t\t\t\t<Dice face={this.state.diceThree} rolling={this.state.rolling} />\n\n\t\t\t\t</section>\n\t\t\t\t<button\n\t\t\t\t\tonClick={this.rollDice}\n\t\t\t\t\tclassName=\"DiceGame-btn\"\n\t\t\t\t\tdisabled={this.state.rolling}>\n\t\t\t\t\t{this.state.value}\n\t\t\t\t</button>\n\n\t\t\t</section>\n\n\t\t)\n\t}\n}\n\nexport default DiceGame;"]},"metadata":{},"sourceType":"module"}